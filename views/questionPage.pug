html(lang='en')
  head
    meta(charset='utf-8')
    title QuestionPage
    link(rel="stylesheet", href="/css/home.css")
    link(rel="stylesheet", href="/css/questionPage.css")
    link(rel="stylesheet", href="/css/postComment.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/hopscotch.min.css")
    link(rel="stylesheet", href="https://cdn.quilljs.com/1.3.6/quill.snow.css")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js")
    script(src="https://cdn.quilljs.com/1.3.6/quill.js")
    script(src="https://cdn.quilljs.com/1.3.6/quill.min.js")
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
    script(src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript")
    script(src="/js/renderingDates.js")
    script(src="/js/questionPage.js")
  body(onload="main()")
    include titleBar
    include menuBar
    div(class="container")
      if !questionDetails
        div not found
      else
        -const {ownerId,title,body,receivedAt,ansCount,vote,tags,comments} = questionDetails
        -const qd = questionDetails
        div(class="container-h")
          div(class="question-title")
            div(class="question-title-h")=title
            div(class="question-title-b")
              div(class="avatar-div")
                img(class="author-avatar" src=`${qd.avatar}`, alt="alt" onClick=`window.location.href='/viewProfile?id=${ownerId}'`)
              div
                div(class="author" onclick=`window.location.href='/viewProfile?id=${ownerId}'`)=qd.username
                div(class="time" time=`${receivedAt}`)
            if(userInfo && userInfo.id == ownerId)
              div(class="edit-q-btn" onclick=`makeQuestionEditable('${qd.id}')`) edit
        div(class="question-body")
          div(class="question-body-c")!=body
            div(class="tags" style="margin-left:0")
              each tag in tags
                div(class="tag q-tag")=tag.title
          div(class="vote-container")
            div(class="up-arrow" onclick=`updateVote('/upVote','answers','${qd.id}',this)`)
            div(class="countName votes")
              div(class="count")
                span=vote||0
                div(class="ansCount") votes
            div(class="down-arrow" onclick=`updateVote('/downVote','answers','${qd.id}',this)`)
        div(class="comments") 
          span Comments
          include comments
          +getComments(comments)
          include postComment
          +comments_editor(qd.id,'questions')
        include postAnswer
        +getQuestionId(qd.id)
        include answer
